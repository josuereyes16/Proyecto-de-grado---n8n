<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesis: Agente de Automatización con n8n</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Exo 2', sans-serif;
        }
        .main-bg {
            background: linear-gradient(135deg, #1a0537, #3c096c 50%, #1a0537);
        }
        .glassmorphism {
            background: rgba(147, 51, 234, 0.1); /* Un morado más claro y translúcido */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .neon-glow {
            box-shadow: 0 0 5px #c77dff, 0 0 10px #c77dff, 0 0 15px #c77dff;
        }
        .neon-text {
            text-shadow: 0 0 5px #e0aaff, 0 0 10px #e0aaff;
        }
        .neon-glow-blue {
            box-shadow: 0 0 5px #00aaff, 0 0 10px #00aaff, 0 0 15px #00aaff;
        }
        .nav-link.active {
            background-color: #7b2cbf;
            color: #fff;
            box-shadow: 0 0 10px #9d4edd;
        }
        .section-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .section-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .typing-dot {
            animation: typing-blink 1.4s infinite both;
            display: inline-block;
        }
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes typing-blink {
            0% { opacity: .2; }
            20% { opacity: 1; }
            100% { opacity: .2; }
        }
    </style>
</head>
<body class="main-bg text-gray-200 min-h-screen flex flex-col md:flex-row">

    <!-- Sidebar de Navegación -->
    <nav class="w-full md:w-64 glassmorphism p-4 md:p-6 flex-shrink-0">
        <div class="text-center mb-8">
            <h1 class="text-2xl font-bold text-white neon-text">PROYECTO N8N</h1>
            <p class="text-sm text-purple-300">Antonio Josué Reyes </p>
        </div>
        <ul class="space-y-3">
            <li><a href="#" class="nav-link active flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="inicio">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>Inicio</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="que-es-n8n">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.546-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>¿Qué es n8n?</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="configuracion">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>Configuración</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="instalacion">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>Instalación</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="documentacion">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Documentación</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="fases">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>Fases del Proyecto</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="demo">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Demo Interactiva</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="panel">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Panel Admin</a></li>
            <li><a href="#" class="nav-link flex items-center p-3 rounded-lg hover:bg-purple-700 transition-all duration-300" data-section="contacto">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>Contacto</a></li>
        </ul>
    </nav>

    <!-- Contenido Principal -->
    <main class="flex-1 p-6 md:p-10 overflow-y-auto">

        <!-- Sección de Inicio -->
        <div id="inicio" class="section-content active">
             <div class="glassmorphism p-8 rounded-xl max-w-4xl mx-auto text-center">
                <h2 class="text-3xl font-bold mb-4 text-white neon-text">Proyecto de Grado – Ingeniería de Sistemas</h2>
                <p class="text-md text-purple-200 mb-6 italic">
                    “Optimización de un agente de automatización para la atención al cliente en los canales de WhatsApp, Instagram y Facebook Messenger en empresas minoristas del sector moda utilizando la herramienta de automatización n8n”
                </p>
                <h3 class="text-2xl font-semibold mb-3 text-pink-400">Introducción</h3>
                <p class="text-gray-300 mb-4 leading-relaxed text-justify">
                    Este proyecto de tesis se centra en la creación de un agente inteligente diseñado para gestionar y responder de forma autónoma las interacciones en redes sociales, utilizando la herramienta de automatización n8n. Esta plataforma, además de ser de código abierto (open source), posee una arquitectura modular y una interfaz visual intuitiva, lo que permite conectar APIs, definir flujos de trabajo personalizados y gestionar comunicaciones de manera eficiente, escalable y adaptable a múltiples plataformas digitales.
                </p>
                <p class="text-gray-300 mb-8 leading-relaxed text-justify">
                    El propósito principal de este proyecto es optimizar la atención al cliente en los canales digitales de empresas minoristas del sector moda, mediante la implementación de automatizaciones inteligentes que reduzcan los tiempos de respuesta y mejoren la experiencia del usuario. A través del agente desarrollado en n8n, se busca ofrecer un sistema capaz de atender múltiples consultas de manera simultánea, continua y coherente, garantizando una comunicación fluida entre la marca y sus clientes. De esta forma, se promueve una gestión más eficiente de las interacciones digitales, fortaleciendo la productividad y la competitividad de las empresas en el entorno digital actual.
                </p>
                <p class="font-semibold text-purple-300 mb-4">Antonio Josué Reyes Paredes – Código 1152095</p>
                <p class="text-sm text-purple-400 italic">“La IA no es el futuro, es el presente.”</p>
            </div>
        </div>
        
        <!-- Sección ¿Qué es n8n? -->
        <div id="que-es-n8n" class="section-content">
            <div class="glassmorphism p-8 rounded-xl max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-white neon-text text-center">¿Qué es n8n?</h2>
                <p class="text-gray-300 mb-6 leading-relaxed text-justify">
                    n8n es una plataforma de automatización de flujos de trabajo, diseñada bajo una filosofía API-first. Funciona como un intermediario que orquesta la comunicación y el intercambio de datos entre diversas aplicaciones y servicios digitales, con el objetivo de eliminar tareas manuales y superar las barreras de integración. Como herramienta de código abierto, extensible y auto-hospedable, ofrece una flexibilidad única para construir estos procesos complejos mediante una intuitiva interfaz visual basada en nodos.
                </p>
                <p class="text-gray-300 mb-6 leading-relaxed text-justify">
                    Este enfoque, conocido como no-code/low-code, democratiza la creación de integraciones y automatizaciones, eliminando la necesidad de tener conocimientos avanzados en programación.
                </p>
                
                <div class="my-6 text-center">
                    <img src="1.jpg" alt="Logo oficial de n8n" class="mx-auto rounded-lg max-w-sm bg-white/10 p-4">
                </div>

                <p class="text-gray-300 mb-8 leading-relaxed text-justify">
                    Cada paso en un flujo de trabajo de n8n es un "nodo". Hay nodos para cientos de aplicaciones populares (como Google Sheets, Slack, bases de datos SQL, APIs de redes sociales) y también nodos lógicos (como IF, Switch, Function) que permiten crear una lógica de negocio sofisticada. Esta modularidad hace que n8n sea extremadamente poderoso para automatizar desde tareas simples hasta procesos empresariales completos.
                </p>

                <div class="border-t border-purple-500/30 pt-6 mt-6 space-y-4">
                    <p class="text-lg font-semibold text-pink-400">Recursos Adicionales:</p>
                    <div>
                        <span class="font-bold text-gray-300">Link Oficial de n8n:</span>
                        <a href="https://docs.n8n.io/" target="_blank" class="text-blue-400 hover:underline ml-2">https://docs.n8n.io/</a>
                    </div>
                    <div>
                        <span class="font-bold text-gray-300">Video Explicativo:</span>
                        <a href="https://www.youtube.com/watch?v=TixlT7lTWMQ" target="_blank" class="text-blue-400 hover:underline ml-2">https://www.youtube.com/watch?v=TixlT7lTWMQ</a>
                        <p class="text-sm text-purple-300 mt-1">Autor: Aprende a Programar YOUTUBE</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Configuración -->
        <div id="configuracion" class="section-content">
             <h2 class="text-3xl font-bold mb-6 text-white neon-text">Configuración del Agente</h2>
             <div class="glassmorphism p-8 rounded-xl grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-pink-400 mb-4">Conexiones de Redes Sociales</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300">API Key de Twitter/X</label>
                            <input type="text" placeholder="Ingresa tu API Key" class="mt-1 block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-pink-500 focus:border-pink-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300">Token de Acceso de Facebook</label>
                            <input type="text" placeholder="Ingresa tu Token de Acceso" class="mt-1 block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-pink-500 focus:border-pink-500">
                        </div>
                         <div>
                            <label class="block text-sm font-medium text-gray-300">Webhook URL de Instagram</label>
                            <input type="text" placeholder="Ingresa tu Webhook URL" class="mt-1 block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-pink-500 focus:border-pink-500">
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-blue-400 mb-4">Ajustes del Agente</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300">Intervalo de Verificación (minutos)</label>
                            <input type="number" value="5" class="mt-1 block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="default-response-textarea" class="block text-sm font-medium text-gray-300">Respuesta Automática Predeterminada</label>
                            <div class="relative mt-1">
                                <textarea id="default-response-textarea" rows="3" class="block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500">Gracias por tu mensaje. Lo hemos recibido y te responderemos pronto.</textarea>
                                <button type="button" id="generate-response-btn" class="absolute bottom-2 right-2 bg-pink-600 text-white text-xs font-bold py-1 px-3 rounded-md hover:bg-pink-700 transition-all duration-300">
                                    Generar con IA ✨
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="md:col-span-2 text-right">
                     <button class="bg-blue-600 text-white font-bold py-2 px-5 rounded-lg neon-glow-blue hover:bg-blue-700 transition-all duration-300">
                        Guardar Configuración
                    </button>
                </div>
             </div>
        </div>

        <!-- Sección de Instalación -->
        <div id="instalacion" class="section-content">
            <h2 class="text-3xl font-bold mb-6 text-white neon-text">Instalación y Puesta en Marcha</h2>
            <div class="glassmorphism p-8 rounded-xl space-y-6">
                <div>
                    <h3 class="text-xl font-semibold text-pink-400">Paso 1: Configurar n8n</h3>
                    <p class="mt-2 text-gray-300">Asegúrate de tener una instancia de n8n corriendo. Puedes usar n8n.cloud, Docker, o instalarlo localmente con npm. Visita la <a href="https://n8n.io/" target="_blank" class="text-blue-400 hover:underline">documentación oficial de n8n</a> para más detalles.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-pink-400">Paso 2: Descargar el Workflow</h3>
                    <p class="mt-2 text-gray-300">Descarga el archivo JSON que contiene el flujo de trabajo pre-configurado para el agente de automatización.</p>
                    <button class="mt-3 bg-purple-600 text-white font-bold py-2 px-5 rounded-lg neon-glow hover:bg-purple-700 transition-all duration-300">
                        Descargar workflow.json
                    </button>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-pink-400">Paso 3: Importar y Configurar Credenciales</h3>
                    <p class="mt-2 text-gray-300">En tu instancia de n8n, importa el archivo JSON. Luego, navega a los nodos que requieren credenciales (ej. Twitter, Facebook) y añade tus propias claves de API y tokens de acceso.</p>
                </div>
                 <div>
                    <h3 class="text-xl font-semibold text-pink-400">Paso 4: Activar el Workflow</h3>
                    <p class="mt-2 text-gray-300">Una vez configuradas las credenciales, activa el workflow. El agente comenzará a escuchar eventos y a procesar mensajes según la lógica definida.</p>
                </div>
            </div>
        </div>
        
        <!-- Sección de Documentación -->
        <div id="documentacion" class="section-content">
             <h2 class="text-3xl font-bold mb-6 text-white neon-text">Documentación Técnica</h2>
             <div class="glassmorphism p-8 rounded-xl space-y-6">
                <div>
                    <h3 class="text-xl font-semibold text-blue-400">Arquitectura del Agente</h3>
                    <p class="mt-2 text-gray-300">El agente se basa en una arquitectura orientada a eventos. Utiliza webhooks para recibir notificaciones en tiempo real de las plataformas de redes sociales. Cada evento (nuevo mensaje, comentario, mención) activa un workflow específico en n8n.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-blue-400">Flujo de Trabajo Principal</h3>
                    <p class="mt-2 text-gray-300">El workflow principal sigue estos pasos: <br>1. <strong>Trigger (Disparador):</strong> Un nodo de Webhook espera la llegada de datos. <br>2. <strong>Análisis de Mensaje:</strong> Un nodo de "Function" con código JavaScript extrae el contenido del mensaje, el remitente y otros metadatos. <br>3. <strong>Lógica Condicional:</strong> Nodos "IF" determinan el tipo de mensaje (pregunta, queja, saludo) basándose en palabras clave. <br>4. <strong>Generación de Respuesta:</strong> Dependiendo de la condición, se genera una respuesta. Esto puede ser una respuesta predefinida o una generada por IA (ej. usando un nodo de OpenAI). <br>5. <strong>Acción de Respuesta:</strong> Se utiliza el nodo de la red social correspondiente (ej. Twitter Node, Facebook Messenger Node) para enviar la respuesta.</p>
                </div>
            </div>
        </div>

        <!-- Sección Fases del Proyecto -->
        <div id="fases" class="section-content">
            <h2 class="text-3xl font-bold mb-6 text-white neon-text">Fases del Proyecto</h2>
            <div class="space-y-8 relative">
                <!-- Línea de tiempo vertical -->
                <div class="absolute left-4 top-0 h-full w-0.5 bg-purple-500"></div>
                
                <div class="relative pl-10">
                    <div class="absolute left-0 top-1 flex items-center justify-center w-8 h-8 bg-pink-500 rounded-full ring-4 ring-purple-900">
                        <span class="text-white font-bold">1</span>
                    </div>
                    <h3 class="text-xl font-semibold text-pink-400">Fase 1: Investigación y Conceptualización</h3>
                    <p class="mt-2 text-gray-300">Análisis de herramientas de automatización existentes, definición de los objetivos del proyecto y selección de n8n como la tecnología principal.</p>
                </div>
                <div class="relative pl-10">
                     <div class="absolute left-0 top-1 flex items-center justify-center w-8 h-8 bg-pink-500 rounded-full ring-4 ring-purple-900">
                        <span class="text-white font-bold">2</span>
                    </div>
                    <h3 class="text-xl font-semibold text-pink-400">Fase 2: Desarrollo del Prototipo</h3>
                    <p class="mt-2 text-gray-300">Creación del primer workflow funcional para una sola red social (Twitter). Implementación de la lógica básica de respuesta basada en palabras clave.</p>
                </div>
                <div class="relative pl-10">
                    <div class="absolute left-0 top-1 flex items-center justify-center w-8 h-8 bg-pink-500 rounded-full ring-4 ring-purple-900">
                        <span class="text-white font-bold">3</span>
                    </div>
                    <h3 class="text-xl font-semibold text-pink-400">Fase 3: Expansión y Pruebas</h3>
                    <p class="mt-2 text-gray-300">Integración con más redes sociales (Facebook, Instagram). Desarrollo de lógica condicional más avanzada y pruebas con casos de uso reales.</p>
                </div>
                 <div class="relative pl-10">
                    <div class="absolute left-0 top-1 flex items-center justify-center w-8 h-8 bg-blue-500 rounded-full ring-4 ring-purple-900">
                        <span class="text-white font-bold">4</span>
                    </div>
                    <h3 class="text-xl font-semibold text-blue-400">Fase 4: Planes Futuros</h3>
                    <p class="mt-2 text-gray-300">Integración de un modelo de lenguaje (LLM) para respuestas más naturales, creación de un panel de analíticas y empaquetado del proyecto para una fácil distribución.</p>
                </div>
            </div>
        </div>

        <!-- Sección de Demo Interactiva -->
        <div id="demo" class="section-content">
            <h2 class="text-3xl font-bold mb-6 text-white neon-text">Demo Interactiva con IA</h2>
            <div class="glassmorphism rounded-xl flex flex-col h-[60vh] max-w-2xl mx-auto">
                <div class="p-4 border-b border-purple-500/50">
                    <h3 class="font-semibold text-white">Simulador de Agente (Potenciado por Gemini)</h3>
                    <p class="text-sm text-green-400">● Online</p>
                </div>
                <div id="chat-window" class="flex-1 p-4 space-y-4 overflow-y-auto">
                    <!-- Mensajes de chat se añadirán aquí -->
                    <div class="flex justify-start">
                        <div class="bg-purple-800 rounded-lg p-3 max-w-xs">
                            <p class="text-sm">Hola, soy una simulación del agente n8n, potenciado por la IA de Gemini. ¡Pregúntame lo que quieras!</p>
                        </div>
                    </div>
                </div>
                <div class="p-4 border-t border-purple-500/50">
                    <div class="flex space-x-2">
                        <input id="chat-input" type="text" placeholder="Escribe tu mensaje aquí..." class="flex-1 bg-gray-900/50 border-purple-400 rounded-lg py-2 px-3 text-white focus:outline-none focus:ring-pink-500 focus:border-pink-500">
                        <button id="send-btn" class="bg-pink-600 text-white font-bold p-3 rounded-lg neon-glow hover:bg-pink-700 transition-all duration-300">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección Panel Admin -->
        <div id="panel" class="section-content">
            <h2 class="text-3xl font-bold mb-6 text-white neon-text">Panel de Administración (Simulado)</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Stat Card -->
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <h3 class="text-lg font-semibold text-blue-300">Mensajes Procesados</h3>
                    <p class="text-4xl font-bold mt-2">1,287</p>
                </div>
                 <!-- Stat Card -->
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <h3 class="text-lg font-semibold text-blue-300">Tasa de Automatización</h3>
                    <p class="text-4xl font-bold mt-2">82%</p>
                </div>
                 <!-- Stat Card -->
                <div class="glassmorphism p-6 rounded-xl text-center">
                    <h3 class="text-lg font-semibold text-blue-300">Tiempo de Respuesta Prom.</h3>
                    <p class="text-4xl font-bold mt-2">3.5s</p>
                </div>
            </div>
            <div class="mt-8 glassmorphism p-6 rounded-xl">
                 <h3 class="text-lg font-semibold text-pink-400 mb-4">Actividad por Hora</h3>
                 <canvas id="activityChart"></canvas>
            </div>
        </div>


        <!-- Sección de Contacto -->
        <div id="contacto" class="section-content">
            <h2 class="text-3xl font-bold mb-6 text-white neon-text">Contacto y Dudas</h2>
            <div class="glassmorphism p-8 rounded-xl max-w-lg mx-auto">
                <p class="text-center mb-6">Si tienes alguna pregunta sobre el proyecto, no dudes en contactarme.</p>
                <form>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-300">Tu Email</label>
                        <input type="email" class="mt-1 block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-pink-500 focus:border-pink-500">
                    </div>
                    <div class="mb-4">
                         <label class="block text-sm font-medium text-gray-300">Mensaje</label>
                         <textarea rows="4" class="mt-1 block w-full bg-gray-900/50 border-purple-400 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-pink-500 focus:border-pink-500"></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="bg-purple-600 text-white font-bold py-3 px-6 rounded-lg neon-glow hover:bg-purple-700 transition-all duration-300">
                            Enviar Mensaje
                        </button>
                    </div>
                </form>
            </div>
        </div>

    </main>
    
    <script>
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section-content');

        function showSection(sectionId) {
            sections.forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.section === sectionId) {
                    link.classList.add('active');
                }
            });
        }
        
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = e.currentTarget.dataset.section;
                showSection(sectionId);
                
                if (sectionId === 'panel') {
                    initChart();
                }
            });
        });

        // --- Gemini API Integration ---
        const apiKey = ""; // Will be provided by the execution environment
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        async function callGemini(prompt, systemPrompt, maxRetries = 3) {
            let attempt = 0;
            while (attempt < maxRetries) {
                try {
                    const payload = {
                        contents: [{ parts: [{ text: prompt }] }],
                    };
                    if (systemPrompt) {
                        payload.systemInstruction = {
                            parts: [{ text: systemPrompt }]
                        };
                    }

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429 || response.status >= 500) {
                            const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                            await new Promise(resolve => setTimeout(resolve, delay));
                            attempt++;
                            continue;
                        }
                        throw new Error(`API call failed with status: ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    return text || "No pude generar una respuesta.";

                } catch (error) {
                    console.error(`Attempt ${attempt + 1} failed:`, error);
                    attempt++;
                    if (attempt >= maxRetries) {
                        return "Hubo un error al contactar a la IA. Por favor, inténtalo de nuevo más tarde.";
                    }
                }
            }
        }

        // --- Lógica de la Demo Interactiva ---
        const chatWindow = document.getElementById('chat-window');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const generateResponseBtn = document.getElementById('generate-response-btn');
        const defaultResponseTextarea = document.getElementById('default-response-textarea');
        
        function addMessage(text, sender) {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`;

            const messageBubble = document.createElement('div');
            messageBubble.className = `${sender === 'user' ? 'bg-pink-600' : 'bg-purple-800'} rounded-lg p-3 max-w-xs`;
            
            const messageText = document.createElement('p');
            messageText.className = 'text-sm';
            messageText.innerText = text;
            
            messageBubble.appendChild(messageText);
            messageWrapper.appendChild(messageBubble);
            chatWindow.appendChild(messageWrapper);
            
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        function addTypingIndicator() {
            const messageWrapper = document.createElement('div');
            messageWrapper.className = 'flex justify-start';
            messageWrapper.id = 'typing-indicator';

            const messageBubble = document.createElement('div');
            messageBubble.className = 'bg-purple-800 rounded-lg p-3 max-w-xs';
            messageBubble.innerHTML = '<p class="text-sm"><span class="typing-dot">.</span><span class="typing-dot">.</span><span class="typing-dot">.</span></p>';
            
            messageWrapper.appendChild(messageBubble);
            chatWindow.appendChild(messageWrapper);
            
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }
        
        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        async function handleSend() {
            const userInput = chatInput.value.trim();
            if (userInput === '') return;
            
            addMessage(userInput, 'user');
            chatInput.value = '';
            chatInput.disabled = true;
            sendBtn.disabled = true;

            addTypingIndicator();

            const systemPrompt = "Eres un amigable y eficiente agente de servicio al cliente para una empresa de tecnología. Responde a las consultas de los usuarios de manera concisa, profesional y útil. Mantén tus respuestas breves, idealmente en una o dos oraciones.";
            const botReply = await callGemini(userInput, systemPrompt);
            
            removeTypingIndicator();
            addMessage(botReply, 'bot');

            chatInput.disabled = false;
            sendBtn.disabled = false;
            chatInput.focus();
        }

        sendBtn.addEventListener('click', handleSend);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSend();
        });

        generateResponseBtn.addEventListener('click', async () => {
            const originalText = generateResponseBtn.innerHTML;
            generateResponseBtn.innerHTML = 'Generando...';
            generateResponseBtn.disabled = true;

            const prompt = "Actúa como un experto en comunicación. Escribe una opción para un mensaje de respuesta automática predeterminada para redes sociales. El tono debe ser amigable y profesional. El mensaje debe informar al usuario que su consulta ha sido recibida y que será atendida pronto. Devuelve solo el texto del mensaje, sin numeración ni introducciones.";
            const generatedText = await callGemini(prompt);
            
            defaultResponseTextarea.value = generatedText;

            generateResponseBtn.innerHTML = originalText;
            generateResponseBtn.disabled = false;
        });

        // --- Lógica del Gráfico del Panel Admin ---
        let activityChartInstance = null;
        function initChart() {
            const ctx = document.getElementById('activityChart').getContext('2d');
            
            if (activityChartInstance) {
                activityChartInstance.destroy();
            }

            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(233, 30, 99, 0.5)');
            gradient.addColorStop(1, 'rgba(233, 30, 99, 0)');

            activityChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['00:00', '02:00', '04:00', '06:00', '08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00'],
                    datasets: [{
                        label: 'Mensajes por Hora',
                        data: [12, 19, 8, 15, 22, 30, 45, 50, 60, 40, 32, 25],
                        backgroundColor: gradient,
                        borderColor: '#e91e63',
                        borderWidth: 2,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#e91e63',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: { color: '#d1d5db' }
                        },
                        x: {
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: { color: '#d1d5db' }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>




